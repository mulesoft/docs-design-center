= Publishing API Specifications
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

When you want to share your API specification with other developers, you can publish it to Anypoint Exchange. 

== Before You Begin

It is a good practice to remove unreferenced files before publishing a project to Anypoint Exchange. An unreferenced file is not referenced from the project's root file, either directly or indirectly.

For example, if the file `example.raml` is among the files in a project but the root file of the project does not reference `example.raml` with an `!include` tag, the root file doesn't reference `example.raml` directly. If none of the files in the chain of references from the root file directly references `example.raml`, `example.raml` is not referenced indirectly from the root file. Therefore, `example.raml` is unreferenced and should probably not be among the files in the project.

If you do not remove them before you begin, unreferenced files are detected when you select the option to publish to exchange and you are given options on whether or not to publish them. 

[publish-api-specs]
== Publish an API Specification

. In API Designer, open the API-specification project that you want to publish.
. Click *Publish* and then click *Publish to Exchange*.
+
image:apid-publish-dialog-api-specs.png[The publish dialog shown when you publish from API Designer to Exchange]
+
<1> *Asset version*: The version number to be displayed in the *Version* section of the page that Anypoint Exchange creates for the project. You can republish assets that are in the *Development* lifecycle state using the same asset version number. The asset version for assets that are in the *Stable* lifecycle state must be incremented to the next valid version when republished.  
<2> *API version*: The version number of the API specification. For a description of this field, see <<api-version>>.
<3> *LifeCycle State*: The lifecycle state of the asset. Assets can be published from API Designer in the *In Development* or *Stable* state. 
<4> *Business group ID*: The ID of the business unit in Anypoint Platform to which the project belongs. 
<5> *Asset name*: The name that Anypoint Exchange uses to identify the published project. You should typically keep the value as is.
<6> *Asset ID*: The ID that Anypoint Exchange uses to identify the published project. You should typically keep the value as is.
+
. After completing the required fields, click *Publish to Exchange*.
+
If your project includes files that are not referenced by the root file either directly or indirectly, a dialog asks you to confirm that you  want to publish the project with the unreferenced files. By default, API Designer excludes them from the published project in Anypoint Exchange.

NOTE: If you are using the non-crowd version of Anypoint Platform and want to add the asset to API Manager while publishing to Exchange, select *Add to API Manager*. This option has been replaced in the crowd version with options to add asset instances to API Manager.

[[api-version]]
== API Version

Anypoint Exchange requires that each API specification published to it have a version number, which is called the API version. The content and state of the *API version* field on the publish dialog depends on the following:

* If the specification includes the version, the version is filled in from the specification and you cannot update it on the publish dialog.
* If the specification does not include the version, you must enter the version in the *API version* field. 
* If the specification is being republished and the state selected is `Stable`, API Designer populates the *API version* field with the number used when the specification was last published. You can change the number, but the republish will fail if you use a version number that has already been used to publish this API.
* If the specification is being republished and the state selected is `In Development`, API Designer populates the *API version* field with the number used when the specification was last published. You can change the number and can use the same number as a previously-published version of the API as long as it is in the `In Development` state.


== See Also

* xref:exchange::workflow-sharing-assets.adoc[Workflow: Publish Assets]
* xref:exchange::asset-details.adoc[Explore Asset Information]
* xref:exchange::to-change-raml-version[Change the Version of an Asset]